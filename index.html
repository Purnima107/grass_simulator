<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>touch grass simulator à·´âš˜â‚ŠËš</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <video autoplay muted loop id="video">
        <source src="demo-resized.mp4" type="video/mp4">
    </video>
    
    <script>
    const video = document.getElementById("video");

    video.addEventListener("click", () => {
        video.pause(); // stop when I click

        // after 1 second, countining
        setTimeout(() => {
            video.play();
        }, 1000);
    });
    </script>
   <!-- Timer Wrapper -->
  <div id="timerWrapper">
    <!-- Countdown Ring -->
    <div id="timer"></div>

    <!-- Time Display -->
    <p id="timeDisplay">00:00</p>

    <!-- Label -->
    <p id="label">Focus Timer</p>

    <!-- Controls -->
    <div id="controls">
      <select id="focusTime">
        <option value="5">5</option>
        <option value="10">10</option>
        <option value="20">20</option>
      </select>
      <button onclick="setFocusTime()">Start</button>
    </div>
  </div>

  <!-- Timer Logic -->
  <script>
    let seconds = 0;
    let timerInterval;
    let isActive = false;
    let focusDuration = 0;

    function setFocusTime() {
      const minutes = document.getElementById("focusTime").value;
      focusDuration = minutes * 60;
      seconds = 0;
      isActive = true;

      if (timerInterval) clearInterval(timerInterval);
      updateCircle(1); // reset full ring
      updateTimeDisplay(focusDuration);
      startTimer();
    }

    function startTimer() {
      timerInterval = setInterval(() => {
        if (isActive) {
          seconds++;
          const remaining = focusDuration - seconds;

          // Update visuals
          updateCircle((focusDuration - seconds) / focusDuration);
          updateTimeDisplay(remaining);

          if (seconds >= focusDuration) {
            isActive = false;
            clearInterval(timerInterval);
            alert("ðŸŽ‰ Focus session complete!");
          }
        }
      }, 1000);
    }

    // Update countdown ring
    function updateCircle(progress) {
      const circle = document.getElementById("timer");
      circle.style.background = `conic-gradient(
        #4CAF50 ${progress * 360}deg,
        transparent ${progress * 360}deg
      )`;
    }

    // Format mm:ss above the label
    function updateTimeDisplay(timeLeft) {
      const minutes = Math.floor(timeLeft / 60);
      const secs = timeLeft % 60;
      document.getElementById("timeDisplay").textContent =
        `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
    }

    // Pause/resume if they leave tab
    document.addEventListener("visibilitychange", () => {
      if (document.hidden) {
        isActive = false;
      } else if (seconds < focusDuration) {
        isActive = true;
      }
    });
  </script>
    
</body>

</html>